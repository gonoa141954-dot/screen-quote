<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë°©ì¶©ë§ ìë™ê²¬ì  | ë°©ì¶©ë§ì‹œê³µì†Œ</title>

  <meta name="description" content="30ì´ˆ ì…€í”„ê²¬ì  Â· ìš”ì•½ ìë™ë³µì‚¬ í›„ ì˜¤í”ˆì±„íŒ… ìƒë‹´" />
  <meta property="og:title" content="ë°©ì¶©ë§ ìë™ê²¬ì  | ë°©ì¶©ë§ì‹œê³µì†Œ" />
  <meta property="og:description" content="ê°œìˆ˜ë§Œ ì…ë ¥í•˜ë©´ ì •í™• ê¸ˆì•¡ í™•ì¸ Â· ìƒë‹´ë°›ê¸° ëˆ„ë¥´ë©´ ê²¬ì ìš”ì•½ ìë™ë³µì‚¬" />
  <!-- âœ… ê¹ƒí—ˆë¸Œì— ì˜¬ë¦° hero.pngë¥¼ ê³µìœ  ì¸ë„¤ì¼ë¡œ ì‚¬ìš© -->
  <meta property="og:image" content="https://gonoa141954-dot.github.io/screen-quote/hero.png" />

  <style>
    :root{
      --bg:#ffffff;
      --bg2:#f7f8fb;
      --card:#ffffff;
      --line:rgba(15,23,42,.10);
      --text:#0f172a;
      --muted:rgba(15,23,42,.65);
      --muted2:rgba(15,23,42,.45);

      --brand:#2563eb;
      --brand2:#06b6d4;
      --good:#16a34a;

      --shadow: 0 18px 45px rgba(15,23,42,.10);
      --shadow2: 0 10px 28px rgba(15,23,42,.08);
      --r:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 0% 0%, rgba(37,99,235,.10), transparent 60%),
        radial-gradient(900px 500px at 100% 0%, rgba(6,182,212,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:18px 16px 140px;}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:6px 0 14px;}
    .brand{display:flex; flex-direction:column; gap:2px;}
    .brand b{font-size:15px; letter-spacing:-0.2px;}
    .brand span{font-size:12px; color:var(--muted);}
    .status{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.70);
      box-shadow:var(--shadow2);
      font-size:12px; color:var(--muted);
      white-space:nowrap;
    }
    .dot{width:9px;height:9px;border-radius:999px;background:var(--good);box-shadow:0 0 0 4px rgba(22,163,74,.18);}

    .hero{
      border:1px solid var(--line);
      border-radius:var(--r);
      overflow:hidden;
      background:rgba(255,255,255,.82);
      box-shadow:var(--shadow);
    }
    .heroGrid{display:grid; grid-template-columns:1fr;}
    @media (min-width:900px){ .heroGrid{grid-template-columns: 1.15fr .85fr;} }
    .heroMedia{position:relative;min-height:260px;background:#eef2ff;}
    .heroMedia img{
      width:100%; height:100%;
      object-fit:cover; display:block;
      filter:saturate(1.08) contrast(1.04);
    }
    .heroMedia::after{
      content:""; position:absolute; inset:0;
      background:linear-gradient(to top, rgba(255,255,255,.95), rgba(255,255,255,.10) 55%, rgba(255,255,255,0));
      pointer-events:none;
    }
    .heroContent{padding:18px;display:flex;flex-direction:column;gap:12px;}
    .kicker{
      display:inline-flex; align-items:center; gap:8px; width:max-content;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--line);
      background:rgba(37,99,235,.07);
      color:rgba(37,99,235,.95);
      font-weight:1000; font-size:12px;
    }
    .title{margin:0;font-size:22px;letter-spacing:-0.6px;line-height:1.15;font-weight:1000;}
    .sub{margin:0;color:var(--muted);font-size:13px;line-height:1.55;}
    .heroBtns{display:flex;flex-wrap:wrap;gap:10px;margin-top:2px;}
    .btn{
      border:1px solid var(--line);
      background:#fff; color:var(--text);
      padding:12px 14px; border-radius:16px;
      font-weight:1000; font-size:14px;
      cursor:pointer; min-height:46px;
      display:inline-flex; align-items:center; justify-content:center;
      box-shadow: 0 10px 18px rgba(15,23,42,.06);
      transition:transform .08s ease;
    }
    .btnPrimary{
      border-color:transparent;
      background:linear-gradient(135deg, var(--brand), var(--brand2));
      color:white;
      box-shadow: 0 16px 30px rgba(37,99,235,.18);
    }
    .btnSoft{background:rgba(15,23,42,.04);}
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0px)}

    /* âœ… ê¸°ì¡´ 3ì¹¸ ì¹´ë“œ ëŒ€ì‹ , í•œ ì¤„ ì•„ì´ì½˜ ë°” (ê¹”ë”) */
    .featureBar{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius:var(--r);
      background:rgba(255,255,255,.92);
      box-shadow:var(--shadow2);
      padding:12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }
    .featureItem{
      flex:1 1 190px;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:18px;
      background:rgba(15,23,42,.03);
      border:1px solid rgba(15,23,42,.08);
    }
    .featureIcon{
      width:36px;height:36px;
      border-radius:14px;
      display:grid;place-items:center;
      background:rgba(37,99,235,.10);
      border:1px solid rgba(37,99,235,.18);
      color:rgba(37,99,235,.95);
      font-weight:1000;
      flex:0 0 auto;
    }
    .featureText b{
      display:block;
      font-weight:1000;
      font-size:13px;
      letter-spacing:-0.2px;
    }
    .featureText span{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-top:2px;
      line-height:1.35;
    }

    .section{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius:var(--r);
      background:rgba(255,255,255,.92);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .sectionHead{
      padding:16px 16px 12px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg, rgba(37,99,235,.06), rgba(255,255,255,0));
    }
    .sectionHead h2{margin:0;font-size:16px;font-weight:1000;letter-spacing:-0.2px;}
    .sectionHead .desc{margin:6px 0 0;color:var(--muted);font-size:12.8px;line-height:1.5;}
    .sectionBody{padding:14px 16px 16px;}

    .row{display:grid;grid-template-columns:1fr;gap:10px;}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
    input,select,textarea{
      width:100%;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      color:var(--text);
      padding:12px 12px;
      font-size:14px;
      outline:none;
    }
    input:focus,select:focus,textarea:focus{
      border-color: rgba(37,99,235,.35);
      box-shadow: 0 0 0 4px rgba(37,99,235,.12);
    }
    textarea{min-height:150px;resize:vertical;line-height:1.5;}
    .note{font-size:12.5px;color:var(--muted);line-height:1.5;}

    .chip{
      display:flex; gap:10px; align-items:flex-start;
      border:1px solid var(--line);
      background:rgba(15,23,42,.03);
      border-radius:18px;
      padding:12px;
    }
    .chip input{width:auto;margin-top:2px}
    .chip b{font-weight:1000}

    details{
      border:1px solid var(--line);
      border-radius:18px;
      overflow:hidden;
      background:#fff;
      box-shadow: var(--shadow2);
    }
    summary{
      list-style:none;
      cursor:pointer;
      padding:14px 12px;
      font-weight:1000;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: linear-gradient(180deg, rgba(15,23,42,.02), rgba(255,255,255,0));
    }
    summary::-webkit-details-marker{display:none;}
    .chev{color:var(--muted2); font-weight:1000;}
    .detailBody{padding:12px;border-top:1px solid var(--line);background:#fff;}

    .result{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius:22px;
      background:linear-gradient(180deg, rgba(37,99,235,.06), rgba(255,255,255,0));
      box-shadow: var(--shadow);
      padding:14px;
    }
    .price{font-size:28px;font-weight:1000;letter-spacing:-0.6px;margin:0;}
    .resultMeta{margin:6px 0 10px;color:var(--muted);font-size:12.5px;line-height:1.5;}
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
    .toast{margin-top:8px;color:var(--muted);font-size:12px;min-height:16px;}

    .highlight{border-left:6px solid #FEE500;background:rgba(254,229,0,.22);}
    .highlightTitle{font-weight:1000;font-size:14px;letter-spacing:-0.2px;}

    /* Sticky Kakao */
    .kakaoSticky{
      position:fixed;left:14px;right:14px;bottom:14px;
      z-index:50;max-width:980px;margin:0 auto;
    }
    .kakaoBtn{
      width:100%;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:12px 14px;border-radius:20px;
      background:#FEE500;color:#191919;
      border:1px solid rgba(0,0,0,.10);
      box-shadow: 0 18px 44px rgba(15,23,42,.18);
      cursor:pointer;
    }
    .kLeft{display:flex;gap:12px;align-items:center;}
    .kBadge{
      width:40px;height:40px;border-radius:999px;
      display:grid;place-items:center;
      background:#191919;color:#FEE500;font-weight:1000;flex:0 0 auto;
    }
    .kText b{display:block;font-size:14px;font-weight:1000;letter-spacing:-0.2px;}
    .kText span{display:block;font-size:12px;color:rgba(25,25,25,.70);margin-top:2px;}
    .kRight{
      padding:10px 12px;border-radius:14px;
      background:rgba(25,25,25,.10);
      border:1px solid rgba(25,25,25,.14);
      font-weight:1000;font-size:12.5px;white-space:nowrap;
    }

    /* modal */
    .modalBack{
      position:fixed;inset:0;
      background:rgba(15,23,42,.45);
      display:none;align-items:center;justify-content:center;
      padding:18px;
      z-index:80;
    }
    .modal{
      width:min(520px, 100%);
      background:#fff;
      border:1px solid var(--line);
      border-radius:22px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modalTop{
      padding:14px 14px 10px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg, rgba(254,229,0,.22), rgba(255,255,255,0));
    }
    .modalTop b{font-weight:1000}
    .modalBody{padding:12px 14px 14px;color:var(--muted);font-size:13px;line-height:1.55;}
    .modalBtns{display:flex;gap:10px;padding:0 14px 14px;}
    .modalBtns .btn{flex:1}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <b>ë°©ì¶©ë§ì‹œê³µì†Œ</b>
        <span>ì…€í”„ê²¬ì  Â· ìš”ì•½ ìë™ë³µì‚¬ Â· ì˜¤í”ˆì±„íŒ… ìƒë‹´</span>
      </div>
      <div class="status"><span class="dot"></span> ìƒë‹´ ê°€ëŠ¥</div>
    </div>

    <div class="hero">
      <div class="heroGrid">
        <div class="heroMedia">
          <!-- âœ… ì €ì¥ì†Œì— ì˜¬ë¦° hero.png ì‚¬ìš© -->
          <img src="./hero.png" alt="ë°©ì¶©ë§ ìë™ê²¬ì  ì´ë¯¸ì§€" />
        </div>

        <div class="heroContent">
          <div class="kicker">âš¡ 30ì´ˆ ì…€í”„ê²¬ì </div>
          <h1 class="title">ë°©ì¶©ë§ ìë™ê²¬ì </h1>
          <p class="sub">
            ë°”ì˜ì‹¤ ë•ŒëŠ” <b>ê°œìˆ˜ë§Œ ì…ë ¥</b>í•˜ê³  ê¸ˆì•¡ í™•ì¸í•˜ì„¸ìš”.
            ì•„ë˜ <b>ìƒë‹´ë°›ê¸°</b> ëˆ„ë¥´ë©´ <b>ê²¬ì ìš”ì•½ì´ ìë™ ë³µì‚¬</b>ë©ë‹ˆë‹¤.
          </p>

          <div class="heroBtns">
            <button class="btn btnPrimary" id="btnGoQuote">ì…€í”„ ê²¬ì í•˜ê¸°</button>
            <button class="btn btnSoft" id="btnHow">ì´ìš© ë°©ë²•</button>
          </div>

          <div class="note">
            â€» ì…ë ¥ ê¸°ì¤€ ìë™ê²¬ì ì´ë©°, í˜„ì¥ ìƒí™©ì— ë”°ë¼ ì¶”ê°€ ë°œìƒ ì‹œ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.
          </div>
        </div>
      </div>
    </div>

    <!-- âœ… ê¹”ë” ì•„ì´ì½˜ ë°” -->
    <div class="featureBar" id="howSection">
      <div class="featureItem">
        <div class="featureIcon">â‚©</div>
        <div class="featureText">
          <b>ì •í™• ê¸ˆì•¡</b>
          <span>ì…ë ¥ ê¸°ì¤€ìœ¼ë¡œ ë”± ê³„ì‚°</span>
        </div>
      </div>
      <div class="featureItem">
        <div class="featureIcon">â˜</div>
        <div class="featureText">
          <b>ìš”ì•½ ìë™ë³µì‚¬</b>
          <span>ìƒë‹´ ë²„íŠ¼ ëˆ„ë¥´ë©´ ìë™</span>
        </div>
      </div>
      <div class="featureItem">
        <div class="featureIcon">ğŸ“±</div>
        <div class="featureText">
          <b>ëª¨ë°”ì¼ ìµœì </b>
          <span>í°ì—ì„œ ë³´ê¸° ì‰½ê²Œ</span>
        </div>
      </div>
    </div>

    <div class="section" id="quoteSection">
      <div class="sectionHead">
        <h2>ì…€í”„ ê²¬ì </h2>
        <p class="desc">í•„ìš”í•œ í•­ëª©ë§Œ í¼ì³ì„œ ì…ë ¥í•˜ì„¸ìš”.</p>
      </div>

      <div class="sectionBody">
        <div class="highlight" style="border-radius:18px;padding:12px;margin-bottom:12px;border:1px solid rgba(0,0,0,.06);">
          <div class="highlightTitle">âœ… ê°œìˆ˜ì— ë”°ë¼ í• ì¸ì ìš© (ì˜¤í”ˆì¹´í†¡)</div>
          <div class="note" style="margin-top:4px;">ì˜ˆì•½ë¦¬ë·°/ì˜ìˆ˜ì¦ë¦¬ë·° ì²´í¬ ì‹œ ì´ì•¡ì—ì„œ 10% ìë™ í• ì¸ë©ë‹ˆë‹¤.</div>
        </div>

        <div class="chip" style="margin-bottom:12px;">
          <input type="checkbox" id="discount10">
          <div>
            <div><b>ì˜ˆì•½ë¦¬ë·°</b> ë˜ëŠ” <b>ì˜ìˆ˜ì¦ë¦¬ë·°</b> (10% í• ì¸)</div>
            <div class="note">ì²´í¬í•˜ë©´ ì´ì•¡ì—ì„œ ìë™ìœ¼ë¡œ 10% í• ì¸ ì ìš©ë©ë‹ˆë‹¤.</div>
          </div>
        </div>

        <!-- âœ… ì²˜ìŒì—ëŠ” ë‹«í˜ -->
        <details id="dWindow">
          <summary><span>ì°½ë¬¸í˜• ë°©ì¶©ë§</span><span class="chev">ì—´ê¸°/ë‹«ê¸° â–¾</span></summary>
          <div class="detailBody">
            <div class="row">
              <div>
                <label>ë°©ì¶©ë§ ì„ íƒ</label>
                <select id="meshType">
                  <option value="micro">ë¯¸ì„¸ë°©ì¶©ë§</option>
                  <option value="hydro_micro">ë°œìˆ˜ì½”íŒ… ë¯¸ì„¸ë°©ì¶©ë§</option>
                  <option value="black_stainless_micro">ë¸”ë™ìŠ¤í… ë¯¸ì„¸ë°©ì¶©ë§</option>
                </select>
              </div>

              <div><label>ì†Œí˜•(ê°œ)</label><input id="cntS" type="number" min="0" step="1" value="0" inputmode="numeric"></div>

              <div>
                <label>ì¤‘í˜•(ê°œ) <span class="note">Â· ë†’ì´ 1500 ì´í•˜</span></label>
                <input id="cntM" type="number" min="0" step="1" value="0" inputmode="numeric">
              </div>

              <div>
                <label>ëŒ€í˜•(ê°œ) <span class="note">Â· ë†’ì´ 2300 ì´í•˜</span></label>
                <input id="cntL" type="number" min="0" step="1" value="0" inputmode="numeric">
              </div>

              <div><label>ë©”ëª¨(ì„ íƒ)</label><input id="memo" placeholder="ì˜ˆ: ì €ì¸µ/ì•„ì´ ìˆìŒ/ì´ˆíŒŒë¦¬ ìœ ì… ë“±"></div>
            </div>
          </div>
        </details>

        <div style="height:12px"></div>

        <details id="dEntrance">
          <summary><span>í˜„ê´€ ë¡¤ë°©ì¶©ë§</span><span class="chev">ì—´ê¸°/ë‹«ê¸° â–¾</span></summary>
          <div class="detailBody">
            <div class="row">
              <div class="chip">
                <input type="checkbox" id="useEntranceRoll">
                <div>
                  <b>í˜„ê´€ ë¡¤ë°©ì¶©ë§</b> ê²¬ì  ì¶”ê°€
                  <div class="note">ì²´í¬ í›„ ì¢…ë¥˜/ì‚¬ì´ì¦ˆ/ê°œìˆ˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.</div>
                </div>
              </div>

              <div>
                <label>ì¢…ë¥˜ ì„ íƒ</label>
                <select id="entranceType">
                  <option value="normal">í˜„ê´€ ë¡¤ë°©ì¶©ë§</option>
                  <option value="micro">í˜„ê´€ ë¯¸ì„¸ ë¡¤ë°©ì¶©ë§</option>
                  <option value="pj_roll">PJ ë¡¤ ë°©ì¶©ë§ (ë³„ë„ ê²¬ì  ë¬¸ì˜)</option>
                </select>
              </div>

              <div>
                <label>ì‚¬ì´ì¦ˆ ì„ íƒ</label>
                <select id="entranceSize">
                  <option value="under">1000 Ã— 2100 ì´í•˜</option>
                  <option value="over">1000 Ã— 2100 ì´ìƒ</option>
                </select>
              </div>

              <div><label>ê°œìˆ˜</label><input id="entranceQty" type="number" min="0" step="1" value="0" inputmode="numeric"></div>

              <div class="note">* PJ ë¡¤ ì„ íƒ ì‹œ ìë™ê¸ˆì•¡ì€ ê³„ì‚°í•˜ì§€ ì•Šê³  â€œë³„ë„ ê²¬ì  ë¬¸ì˜â€ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</div>
            </div>
          </div>
        </details>

        <div style="height:12px"></div>

        <details id="dAl">
          <summary><span>ì•Œë¯¸ëŠ„ í‹€ ì œì‘(ë¯¸ì„¸ë§ í¬í•¨)</span><span class="chev">ì—´ê¸°/ë‹«ê¸° â–¾</span></summary>
          <div class="detailBody">
            <div class="row">
              <div class="chip">
                <input type="checkbox" id="useAlMake">
                <div>ì•Œë¯¸ëŠ„ í‹€ ì œì‘ ê²¬ì  ì¶”ê°€<div class="note">ì†Œ/ì¤‘, ëŒ€ì°½ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</div></div>
              </div>
              <div><label>ì†Œ/ì¤‘ (í•©ê³„ ê°œìˆ˜) <span class="note">Â· 1ê°œë‹¹ 100,000ì›</span></label><input id="alSM" type="number" min="0" step="1" value="0" inputmode="numeric"></div>
              <div><label>ëŒ€ì°½ (ê°œìˆ˜) <span class="note">Â· 1ê°œë‹¹ 140,000ì›</span></label><input id="alL" type="number" min="0" step="1" value="0" inputmode="numeric"></div>
            </div>
          </div>
        </details>

        <div style="height:12px"></div>

        <details id="dHS">
          <summary><span>í•˜ì´ìƒ¤ì‹œ í‹€ ì œì‘(ë¯¸ì„¸ë§ í¬í•¨)</span><span class="chev">ì—´ê¸°/ë‹«ê¸° â–¾</span></summary>
          <div class="detailBody">
            <div class="row">
              <div class="chip">
                <input type="checkbox" id="useHighSash2">
                <div>í•˜ì´ìƒ¤ì‹œ í‹€ ì œì‘ ê²¬ì  ì¶”ê°€<div class="note">ì†Œ/ì¤‘, ëŒ€ì°½ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</div></div>
              </div>
              <div><label>ì†Œ/ì¤‘ (í•©ê³„ ê°œìˆ˜) <span class="note">Â· 1ê°œë‹¹ 100,000ì›</span></label><input id="hsSM" type="number" min="0" step="1" value="0" inputmode="numeric"></div>
              <div><label>ëŒ€ì°½ (ê°œìˆ˜) <span class="note">Â· 1ê°œë‹¹ 140,000ì›</span></label><input id="hsL2" type="number" min="0" step="1" value="0" inputmode="numeric"></div>
            </div>
          </div>
        </details>

        <div class="result">
          <p class="price" id="resultPrice">0ì›</p>
          <div class="resultMeta" id="resultNote">ê°œìˆ˜ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì •í™• ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤.</div>

          <label>ê³ ê°ì—ê²Œ ë³´ë‚¼ ìš”ì•½(ìë™ ìƒì„±)</label>
          <textarea id="summary" readonly></textarea>

          <div class="btnRow">
            <button class="btn btnPrimary" id="btnCopy">ìš”ì•½ ë³µì‚¬</button>
            <button class="btn" id="btnReset">ì´ˆê¸°í™”</button>
          </div>
          <div class="toast" id="toast"></div>

          <div class="note" style="margin-top:8px;">
            ì•„ë˜ <b>ìƒë‹´ë°›ê¸°</b> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <b>ìš”ì•½ì´ ìë™ ë³µì‚¬</b>ë˜ê³ , ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ìë™ë³µì‚¬ ì•ˆë‚´ ëª¨ë‹¬ -->
  <div class="modalBack" id="modalBack" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modalTop">
        <b id="modalTitle">ê²¬ì ìš”ì•½ ìë™ë³µì‚¬</b>
      </div>
      <div class="modalBody" id="modalBody">
        ë³µì‚¬ ì™„ë£Œ! ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ì´ë™í•˜ë©´ ì±„íŒ…ì°½ì— ë¶™ì—¬ë„£ê¸°ë§Œ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
      </div>
      <div class="modalBtns">
        <button class="btn btnPrimary" id="btnGoKakao">ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ì´ë™</button>
        <button class="btn btnSoft" id="btnCloseModal">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

  <!-- ê³ ì • ì¹´ì¹´ì˜¤ ë²„íŠ¼ -->
  <div class="kakaoSticky">
    <button class="kakaoBtn" id="kakaoConsultBtn" type="button">
      <div class="kLeft">
        <div class="kBadge">í†¡</div>
        <div class="kText">
          <b>ì¹´ì¹´ì˜¤í†¡ ì˜¤í”ˆì±„íŒ… ìƒë‹´</b>
          <span>ëˆ„ë¥´ë©´ ê²¬ì ìš”ì•½ ìë™ë³µì‚¬</span>
        </div>
      </div>
      <div class="kRight">ìƒë‹´ë°›ê¸°</div>
    </button>
  </div>

<script>
const KAKAO_URL = "https://open.kakao.com/o/symXVtei";

const CONFIG = {
  UNIT_PRICE_WINDOW: {
    micro:                 { S: 10000, M: 30000, L: 50000 },
    hydro_micro:           { S: 20000, M: 40000, L: 60000 },
    black_stainless_micro: { S: 25000, M: 50000, L: 70000 },
  },
  ENTRANCE_ROLL_PRICE: {
    normal: { under: 150000, over: 170000 },
    micro:  { under: 170000, over: 200000 },
    pj_roll:{ under: null,   over: null },
  },
  MAKE_PRICE: { SM: 100000, L: 140000 },
  DISCOUNT_RATE: 0.10
};

const $ = (id) => document.getElementById(id);
const fmt = (n) => (Math.round(n)).toLocaleString("ko-KR") + "ì›";
const clampInt = (v) => Math.max(0, Number.isFinite(v) ? Math.floor(v) : 0);

function meshLabel(k){
  return ({
    micro: "ë¯¸ì„¸ë°©ì¶©ë§",
    hydro_micro: "ë°œìˆ˜ì½”íŒ… ë¯¸ì„¸ë°©ì¶©ë§",
    black_stainless_micro: "ë¸”ë™ìŠ¤í… ë¯¸ì„¸ë°©ì¶©ë§"
  })[k] || k;
}
function entranceTypeLabel(k){
  return ({
    normal: "í˜„ê´€ ë¡¤ë°©ì¶©ë§",
    micro: "í˜„ê´€ ë¯¸ì„¸ ë¡¤ë°©ì¶©ë§",
    pj_roll: "PJ ë¡¤ ë°©ì¶©ë§(ë³„ë„ ê²¬ì ë¬¸ì˜)"
  })[k] || k;
}
function entranceSizeLabel(k){
  return (k === "under") ? "1000Ã—2100 ì´í•˜" : "1000Ã—2100 ì´ìƒ";
}

function toast(msg){
  $("toast").textContent = msg;
  setTimeout(()=>{ $("toast").textContent = ""; }, 2400);
}

function buildSummary(total, memo, meshKey, cntS, cntM, cntL, useEntranceRoll, entranceType, entranceSize, entranceQty, entranceInquiry, useAlMake, alSM, alL, useHighSash2, hsSM, hsL2, discountOn){
  const lines = [];
  lines.push(`ì°½ë¬¸í˜•: ${meshLabel(meshKey)}`);
  lines.push(`ì°½ ê°œìˆ˜: ì†Œ ${cntS} / ì¤‘ ${cntM}(ë†’ì´ 1500â†“) / ëŒ€ ${cntL}(ë†’ì´ 2300â†“)`);

  if(useEntranceRoll){
    lines.push(`í˜„ê´€ë¡¤: ${entranceTypeLabel(entranceType)} / ${entranceSizeLabel(entranceSize)} / ${entranceQty}ê°œ`);
    if(entranceInquiry) lines.push(`- PJ ë¡¤: ë³„ë„ ê²¬ì  ë¬¸ì˜`);
  }

  if(useAlMake){
    lines.push(`ì•Œë¯¸ëŠ„ í‹€ ì œì‘(ë¯¸ì„¸ë§ í¬í•¨): ì†Œ/ì¤‘ ${alSM}ê°œ(Ã—100,000) / ëŒ€ ${alL}ê°œ(Ã—140,000)`);
  }
  if(useHighSash2){
    lines.push(`í•˜ì´ìƒ¤ì‹œ í‹€ ì œì‘(ë¯¸ì„¸ë§ í¬í•¨): ì†Œ/ì¤‘ ${hsSM}ê°œ(Ã—100,000) / ëŒ€ ${hsL2}ê°œ(Ã—140,000)`);
  }

  lines.push(`ì˜ˆì•½ë¦¬ë·°/ì˜ìˆ˜ì¦ë¦¬ë·° í• ì¸: ${discountOn ? "ì ìš©(10%)" : "ë¯¸ì ìš©"}`);
  lines.push(`ìë™ê²¬ì : ${fmt(total)}`);
  lines.push(`ë©”ëª¨: ${memo || "ì—†ìŒ"}`);

  return "ìë™ê²¬ì  ë³´ê³  ì—°ë½ë“œë ¤ìš”.\n" + lines.join("\n");
}

function calc(){
  const discountOn = $("discount10").checked;

  const meshKey = $("meshType").value;
  const cntS = clampInt(parseFloat($("cntS").value));
  const cntM = clampInt(parseFloat($("cntM").value));
  const cntL = clampInt(parseFloat($("cntL").value));
  const memo = ($("memo").value || "").trim();

  let total = 0;
  const up = CONFIG.UNIT_PRICE_WINDOW[meshKey] || CONFIG.UNIT_PRICE_WINDOW.micro;
  total += up.S * cntS + up.M * cntM + up.L * cntL;

  const useEntranceRoll = $("useEntranceRoll").checked;
  const entranceType = $("entranceType").value;
  const entranceSize = $("entranceSize").value;
  const entranceQty = clampInt(parseFloat($("entranceQty").value));

  let entranceInquiry = false;
  if(useEntranceRoll){
    const p = CONFIG.ENTRANCE_ROLL_PRICE[entranceType]?.[entranceSize];
    if(p == null){
      entranceInquiry = true;
    }else{
      total += p * entranceQty;
    }
  }

  const useAlMake = $("useAlMake").checked;
  const alSM = clampInt(parseFloat($("alSM").value));
  const alL = clampInt(parseFloat($("alL").value));
  if(useAlMake){
    total += CONFIG.MAKE_PRICE.SM * alSM;
    total += CONFIG.MAKE_PRICE.L  * alL;
  }

  const useHighSash2 = $("useHighSash2").checked;
  const hsSM = clampInt(parseFloat($("hsSM").value));
  const hsL2 = clampInt(parseFloat($("hsL2").value));
  if(useHighSash2){
    total += CONFIG.MAKE_PRICE.SM * hsSM;
    total += CONFIG.MAKE_PRICE.L  * hsL2;
  }

  const any =
    (cntS+cntM+cntL) > 0 ||
    (useEntranceRoll && entranceQty>0) ||
    (useAlMake && (alSM+alL)>0) ||
    (useHighSash2 && (hsSM+hsL2)>0);

  if(!any) total = 0;

  let totalFinal = total;
  if(discountOn) totalFinal = total * (1 - CONFIG.DISCOUNT_RATE);

  $("resultPrice").textContent = fmt(totalFinal);

  let note = any ? "ì…ë ¥ ê¸°ì¤€ ìë™ê²¬ì (ì •í™• ê¸ˆì•¡)ì…ë‹ˆë‹¤." : "ê°œìˆ˜ ì…ë ¥í•˜ë©´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.";
  if(useEntranceRoll && entranceInquiry){
    note = "âš ï¸ PJ ë¡¤ ë°©ì¶©ë§ì€ ìë™ê²¬ì ì´ ì•„ë‹ˆë¼ â€˜ë³„ë„ ê²¬ì  ë¬¸ì˜â€™ì…ë‹ˆë‹¤. ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ë¬¸ì˜ ì£¼ì„¸ìš”.";
  }
  $("resultNote").textContent = note;

  const summary = buildSummary(
    totalFinal, memo, meshKey, cntS, cntM, cntL,
    useEntranceRoll, entranceType, entranceSize, entranceQty, entranceInquiry,
    useAlMake, alSM, alL,
    useHighSash2, hsSM, hsL2,
    discountOn
  );
  $("summary").value = summary;

  return { summary, any };
}

async function copyText(text){
  try{
    await navigator.clipboard.writeText(text);
    return true;
  }catch(e){
    const ta = $("summary");
    ta.removeAttribute("readonly");
    ta.value = text;
    ta.select();
    ta.setSelectionRange(0, 99999);
    const ok = document.execCommand("copy");
    ta.setAttribute("readonly","readonly");
    return ok;
  }
}

function openModal(msg){
  $("modalBody").textContent = msg;
  $("modalBack").style.display = "flex";
  $("modalBack").setAttribute("aria-hidden","false");
}
function closeModal(){
  $("modalBack").style.display = "none";
  $("modalBack").setAttribute("aria-hidden","true");
}

function wire(){
  [
    "discount10",
    "meshType","cntS","cntM","cntL","memo",
    "useEntranceRoll","entranceType","entranceSize","entranceQty",
    "useAlMake","alSM","alL",
    "useHighSash2","hsSM","hsL2"
  ].forEach(id => $(id).addEventListener("input", calc));

  $("btnCopy").addEventListener("click", async ()=>{
    const { summary } = calc();
    const ok = await copyText(summary);
    toast(ok ? "ë³µì‚¬ ì™„ë£Œ! ì˜¤í”ˆì±„íŒ…ì— ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë" : "ë³µì‚¬ ì‹¤íŒ¨ â€” ìš”ì•½ì„ ê¸¸ê²Œ ëˆŒëŸ¬ ë³µì‚¬í•´ì£¼ì„¸ìš”");
  });

  $("btnReset").addEventListener("click", ()=>{
    $("discount10").checked = false;

    $("meshType").value = "micro";
    $("cntS").value = 0; $("cntM").value = 0; $("cntL").value = 0;
    $("memo").value = "";

    $("useEntranceRoll").checked = false;
    $("entranceType").value = "normal";
    $("entranceSize").value = "under";
    $("entranceQty").value = 0;

    $("useAlMake").checked = false;
    $("alSM").value = 0; $("alL").value = 0;

    $("useHighSash2").checked = false;
    $("hsSM").value = 0; $("hsL2").value = 0;

    calc();
    toast("ì´ˆê¸°í™” ì™„ë£Œ");
  });

  $("btnGoQuote").addEventListener("click", ()=>{
    $("dWindow").open = true;
    $("quoteSection").scrollIntoView({ behavior:"smooth", block:"start" });
    setTimeout(()=> $("meshType").focus(), 450);
  });

  $("btnHow").addEventListener("click", ()=>{
    $("howSection").scrollIntoView({ behavior:"smooth", block:"start" });
  });

  $("useEntranceRoll").addEventListener("input", ()=>{
    const q = parseInt($("entranceQty").value || "0", 10);
    if($("useEntranceRoll").checked && q === 0) $("entranceQty").value = 1;
    calc();
  });

  $("kakaoConsultBtn").addEventListener("click", async ()=>{
    const { summary, any } = calc();

    if(!any){
      openModal("ì•„ì§ ì…ë ¥ëœ í•­ëª©ì´ ì—†ì–´ìš”. ì•„ë˜ì—ì„œ ê°œìˆ˜ ì…ë ¥ í›„ ë‹¤ì‹œ â€˜ìƒë‹´ë°›ê¸°â€™ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
      $("btnGoKakao").style.display = "none";
      $("quoteSection").scrollIntoView({ behavior:"smooth", block:"start" });
      $("dWindow").open = true;
      return;
    }

    const ok = await copyText(summary);

    $("btnGoKakao").style.display = "inline-flex";
    if(ok){
      openModal("ë³µì‚¬ ì™„ë£Œ! ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ì´ë™í•˜ë©´ ì±„íŒ…ì°½ì— â€˜ë¶™ì—¬ë„£ê¸°â€™ë§Œ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.");
      setTimeout(()=> window.open(KAKAO_URL, "_blank", "noopener"), 650);
    }else{
      openModal("ë³µì‚¬ê°€ ë§‰íŒ ê¸°ê¸°ì˜ˆìš”. ì•„ë˜ ìš”ì•½ì„ ê¸¸ê²Œ ëˆŒëŸ¬ ë³µì‚¬í•œ ë’¤, ì˜¤í”ˆì±„íŒ…ìœ¼ë¡œ ì´ë™í•´ì£¼ì„¸ìš”.");
    }
  });

  $("btnGoKakao").addEventListener("click", ()=>{
    window.open(KAKAO_URL, "_blank", "noopener");
  });
  $("btnCloseModal").addEventListener("click", closeModal);
  $("modalBack").addEventListener("click", (e)=>{
    if(e.target === $("modalBack")) closeModal();
  });

  calc();
}
wire();
</script>
</body>
</html>
